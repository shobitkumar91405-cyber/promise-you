<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Broken Memories</title>

<style>
:root{
--bg-dark:#0b0e14;
--heart-pink:#ff4d6d;
--heart-red:#c9184a;
--heart-dark:#590d22;
--text-light:#e0e0e0;
--accent-red:#800f2f;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Roboto,Arial}
body{background:var(--bg-dark);color:var(--text-light);overflow-x:hidden;height:100vh}

#main-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}
.thunder-flash{position:fixed;top:0;left:0;width:100%;height:100%;background:white;opacity:0;pointer-events:none;z-index:1000}

#intro-overlay{
position:fixed;top:0;left:0;width:100%;height:100%;
background:var(--bg-dark);
display:flex;flex-direction:column;justify-content:center;align-items:center;
z-index:100;transition:1s
}

.scene-3d{perspective:1000px;width:300px;height:300px;display:flex;justify-content:center;align-items:center}

#heart-3d{
width:100px;height:90px;
animation:rotateHeart 10s infinite linear,heartbeat 1.5s infinite;
cursor:pointer
}

@keyframes rotateHeart{from{transform:rotateY(0)}to{transform:rotateY(360deg)}}
@keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}

.intro-ui{margin-top:40px;text-align:center;display:none}
.glow-text{font-size:1.5rem;text-shadow:0 0 15px var(--heart-pink);margin-bottom:20px}

.btn-container{display:flex;gap:20px;justify-content:center}
.btn{padding:12px 30px;border:none;border-radius:25px;font-weight:bold;cursor:pointer}
.btn-yes{background:#ff4d6d;color:white}
.btn-breakup{background:#444;color:#bbb}

#main-content{
display:none;
padding:20px;
max-width:900px;
margin:auto;
opacity:0;
transition:2s
}

section{margin-bottom:60px}
h2{text-align:center;margin-bottom:30px;color:var(--heart-red);letter-spacing:2px}

.typewriter-container{
height:100px;
display:flex;
align-items:center;
justify-content:center;
font-style:italic;
font-size:1.2rem;
color:#aaa;
text-align:center
}

.video-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:15px
}

.video-card{
background:#151921;
border-radius:10px;
overflow:hidden;
border:1px solid #333
}

video{width:100%;display:block}

#photo-display{
width:100%;
height:400px;
background-size:cover;
background-position:center;
border-radius:15px;
cursor:pointer;
transition:0.5s;
border:2px solid #222
}

.shayari-grid{display:grid;gap:15px}
.shayari-card{
background:linear-gradient(145deg,#151921,#0b0e14);
padding:25px;
border-radius:12px;
border-left:4px solid var(--accent-red);
cursor:pointer
}

.chat-box{
background:#151921;
padding:20px;
border-radius:15px;
max-width:400px;
margin:auto
}

.chat-bubble{
background:#2d3436;
padding:10px 15px;
border-radius:18px 18px 18px 0;
margin-bottom:8px
}

.insta-section{
text-align:center;
padding:20px;
background:#111;
border-radius:10px
}

.insta-link{color:var(--heart-pink);display:block;margin:10px 0;text-decoration:none}

#goodbye-screen{
position:fixed;
top:0;left:0;width:100%;height:100%;
background:black;
display:none;
justify-content:center;
align-items:center;
z-index:2000;
flex-direction:column;
text-align:center
}

@media(max-width:600px){
.video-grid{grid-template-columns:1fr}
#photo-display{height:250px}
}
</style>
</head>

<body>

<canvas id="main-canvas"></canvas>
<div class="thunder-flash" id="flash"></div>

<div id="intro-overlay">
<div class="scene-3d">
<div id="heart-3d" onclick="explodeHeart()"></div>
</div>

<div class="intro-ui" id="intro-ui">
<div class="glow-text">
Aarvi ji<br>
Welcome to SivaSingh‚Äôs heart üíñ<br>
I want to say I love you<br>
Do you love me?
</div>
<div class="btn-container">
<button class="btn btn-yes" onclick="sayYes()">YES ‚ù§Ô∏è</button>
<button class="btn btn-breakup" onclick="startBreakup()">BREAKUP üíî</button>
</div>
</div>
</div>

<div id="main-content">

<section class="typewriter-section">
<div class="typewriter-container" id="typewriter"></div>
</section>

<section>
<h2>Broken Memories</h2>
<div class="video-grid">
<div class="video-card"><video src="video1.mp4" onclick="playVid(this)" loop></video></div>
<div class="video-card"><video src="video2.mp4" onclick="playVid(this)" loop></video></div>
<div class="video-card"><video src="video3.mp4" onclick="playVid(this)" loop></video></div>
<div class="video-card"><video src="video4.mp4" onclick="playVid(this)" loop></video></div>
</div>
</section>

<section>
<h2>Fading Moments</h2>
<div id="photo-display" onclick="nextPhoto()" style="background-image:url('photo1.jpg')"></div>
</section>

<section>
<h2>Painful Words</h2>
<div class="shayari-grid">
<div class="shayari-card" onclick="tapShayari()">‚ÄúKuch log sirf yaadon mein reh jaate hain‚Ä¶‚Äù</div>
<div class="shayari-card" onclick="tapShayari()">‚ÄúHum chaah kar bhi tumhare nahi rahe‚Ä¶‚Äù</div>
<div class="shayari-card" onclick="tapShayari()">‚ÄúMohabbat aaj bhi hai, par ab saath nahi‚Ä¶‚Äù</div>
<div class="shayari-card" onclick="tapShayari()">‚ÄúTumne toh keh diya breakup, par is dil ka kya?‚Äù</div>
</div>
</section>

<section>
<h2>The Last Conversation</h2>
<div class="chat-box">
<div class="chat-bubble">You: Tum ab bhi yaad aati ho‚Ä¶</div>
<div style="font-size:0.8rem;color:#666">Seen ‚úî‚úî</div>
<div style="font-size:0.7rem;color:#555">Last seen long ago</div>
</div>
</section>

<section class="insta-section">
<p>Follow my pain:</p>
<a class="insta-link">@smss1708</a>
<a class="insta-link">@black_its_me20</a>
</section>

<div style="text-align:center;padding:40px">
<button onclick="finalGoodbye()">Let You Go ü•Ä</button>
</div>

</div>

<div id="goodbye-screen">
<h1 style="color:white;font-weight:300">Aaj bhi pyaar hai‚Ä¶<br>Par ab haq nahi‚Ä¶</h1>
</div>

<audio id="bg-music" src="newsong.mp3" loop></audio>
<audio id="broken-music" src="broken.mp3"></audio>

<script>
const bgMusic=document.getElementById("bg-music");
const brokenMusic=document.getElementById("broken-music");
const videos=document.querySelectorAll("video");

/* VIDEO FIX */
function playVid(v){
videos.forEach(x=>{if(x!==v){x.pause();x.currentTime=0;}});
brokenMusic.pause();
bgMusic.pause();
v.play();
v.onpause=()=>{if(brokenMusic.paused)bgMusic.play();}
v.onended=()=>{bgMusic.play();}
}

/* SHAYARI FIX */
function tapShayari(){
videos.forEach(v=>{v.pause();v.currentTime=0});
bgMusic.pause();
brokenMusic.currentTime=0;
brokenMusic.play();
}

/* INTRO */
function explodeHeart(){
bgMusic.play();
document.getElementById("intro-ui").style.display="block";
}

function sayYes(){
document.getElementById("intro-overlay").style.opacity="0";
setTimeout(()=>{
document.getElementById("intro-overlay").style.display="none";
document.getElementById("main-content").style.display="block";
setTimeout(()=>document.getElementById("main-content").style.opacity=1,100);
startTypewriter();
},1000);
}

function startBreakup(){
document.querySelector(".glow-text").innerHTML="üíî HEART BROKEN üíî<br>Hamne aapko dil me rehne ko bola‚Ä¶<br>Aapne hamara hi dil tod diya";
sayYes();
}

/* TYPEWRITER */
const messages=[
"Kuch log sirf yaadon mein reh jaate hain‚Ä¶",
"Hum chaah kar bhi tumhare nahi rahe‚Ä¶",
"Mohabbat aaj bhi hai, par ab saath nahi‚Ä¶"
];
let idx=0;
function startTypewriter(){
const el=document.getElementById("typewriter");
let i=0;
el.innerHTML="";
function type(){
if(i<messages[idx].length){
el.innerHTML+=messages[idx].charAt(i++);
setTimeout(type,100);
}else{
setTimeout(()=>{idx=(idx+1)%messages.length;startTypewriter()},2500);
}
}
type();
}

/* PHOTOS */
let p=1;
function nextPhoto(){
const d=document.getElementById("photo-display");
p=p>=10?1:p+1;
d.style.opacity=0;
setTimeout(()=>{
d.style.backgroundImage=`url('photo${p}.jpg')`;
d.style.opacity=1;
},500);
}

/* GOODBYE */
function finalGoodbye(){
const g=document.getElementById("goodbye-screen");
g.style.display="flex";
setTimeout(()=>{document.body.innerHTML=""},6000);
}
</script>

</body>
</html>

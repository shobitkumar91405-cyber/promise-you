<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>happy birthday anshika</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: system-ui, -apple-system, sans-serif;
            background: #000;
            color: #fff;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        #main-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        #main-container::-webkit-scrollbar {
            display: none;
        }

        .section {
            height: 100vh;
            min-height: 100vh;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 1.5rem;
        }

        .glass {
            background: rgba(255, 255, 255, 0.06);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 1rem;
            padding: 2rem;
        }

        .next-btn {
            position: absolute;
            bottom: 2rem;
            right: 2rem;
            background: #ff69b4;
            color: white;
            padding: 0.9rem 2rem;
            border-radius: 9999px;
            font-size: 1.1rem;
            cursor: pointer;
            border: none;
        }

        .next-btn:hover {
            background: #ff1493;
        }

        .falling-petal {
            position: absolute;
            font-size: 2rem;
            opacity: 0.6;
            pointer-events: none;
            animation: fall linear infinite;
            z-index: 5;
        }

        @keyframes fall {
            to { transform: translateY(120vh) rotate(1080deg); }
        }

        .heart-particle {
            position: absolute;
            font-size: 2rem;
            pointer-events: none;
            z-index: 10;
            animation: floatHeart 9s linear forwards;
        }

        @keyframes floatHeart {
            0% { transform: translateY(120px) scale(0.4); opacity: 0; }
            20% { opacity: 0.9; }
            100% { transform: translateY(-1000px) scale(1.3); opacity: 0; }
        }
    </style>
</head>
<body>

    <canvas id="global-canvas" class="fixed inset-0 pointer-events-none z-0"></canvas>

    <audio id="bgmusic" loop>
        <source src="tere-liye.mp3" type="audio/mpeg">
    </audio>

    <!-- intro -->
    <section id="intro" class="section bg-gradient-to-br from-black to-pink-950 flex flex-col items-center justify-center text-center">
        <h1 style="font-size: 3.5rem; margin-bottom: 1rem;">hey cutiepie üíï</h1>
        <p style="font-size: 1.6rem; margin-bottom: 3rem; max-width: 90%;">do you even know how special you are?</p>
        
        <button onclick="startSurprise()" style="font-size: 1.4rem; padding: 1rem 3rem;" class="next-btn">
            start magic üíï
        </button>
    </section>

    <div id="main-container" class="hidden">

        <!-- cake -->
        <section id="cake" class="section bg-gradient-to-b from-black to-pink-950/40 flex-col">
            <h2 style="font-size: 2.5rem; margin-bottom: 2rem; text-align: center;">time to cut your cake...</h2>
            
            <div id="cake-wrapper" class="relative w-80 h-80 mx-auto cursor-grab active:cursor-grabbing">
                <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-72 h-20 bg-gradient-to-br from-pink-500 to-rose-600 rounded-full"></div>
                <div class="absolute bottom-16 left-1/2 -translate-x-1/2 w-56 h-18 bg-gradient-to-br from-pink-400 to-pink-600 rounded-full"></div>
                <div class="absolute bottom-28 left-1/2 -translate-x-1/2 w-40 h-18 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full"></div>
                
                <div class="absolute top-20 left-1/2 -translate-x-1/2 text-7xl">üåπ</div>
                
                <div id="knife" class="absolute top-1/3 left-1/2 text-7xl transition-all duration-100 pointer-events-none" style="transform: rotate(-40deg);">
                    üî™
                </div>
            </div>

            <div id="cake-message" class="hidden mt-10 text-center">
                <h1 style="font-size: 3.2rem;">happy birthday anshika üéÇ</h1>
                <p style="font-size: 1.5rem; margin-top: 1rem;">all my love is yours forever üíñ</p>
            </div>

            <button onclick="nextSection('balloons')" class="next-btn">next ‚Üí</button>
        </section>

        <!-- balloons -->
        <section id="balloons" class="section bg-black relative">
            <canvas id="balloon-canvas" class="absolute inset-0"></canvas>
            
            <div class="relative z-20 text-center">
                <h1 style="font-size: 3.8rem; line-height: 1.1; margin-bottom: 1.5rem;">happy birthday<br>anshika</h1>
                <p style="font-size: 1.5rem;">tap balloons to pop them üéà</p>
            </div>

            <button onclick="nextSection('rose')" class="next-btn">next ‚Üí</button>
        </section>

        <!-- rose -->
        <section id="rose" class="section bg-gradient-to-br from-black via-zinc-950 to-pink-950/20 flex-col">
            <div class="text-center max-w-xl">
                <div style="font-size: 14rem; margin-bottom: 1.5rem; filter: drop-shadow(0 0 40px #ff1493);">
                    üåπ
                </div>
                <p style="font-size: 2.2rem; margin-bottom: 1rem;">for the girl who loves black roses</p>
                <p style="font-size: 4rem; margin-bottom: 1.5rem;">üñ§üåπ</p>
                <p style="font-size: 1.4rem;">you make my world infinitely more beautiful.</p>
            </div>

            <button onclick="nextSection('date')" class="next-btn">next ‚Üí</button>
        </section>

        <!-- date -->
        <section id="date" class="section bg-black">
            <div class="glass text-center">
                <div style="font-size: 1.3rem; margin-bottom: 0.8rem; color: #ff69b4;">celebrating on</div>
                <div id="celebration-date" style="font-size: 2.4rem;"></div>
                <div style="font-size: 3rem; margin-top: 2rem;">
                    üéÇ üñ§ üíï
                </div>
            </div>

            <button onclick="nextSection('cute')" class="next-btn">next ‚Üí</button>
        </section>

        <!-- cute meter -->
        <section id="cute" class="section bg-gradient-to-t from-black to-pink-950/30 flex-col">
            <div class="text-center max-w-xl">
                <h2 style="font-size: 2.2rem; margin-bottom: 2rem;">measuring your cuteness...</h2>
                
                <div class="h-6 bg-zinc-800 rounded-full overflow-hidden w-full max-w-md mx-auto">
                    <div id="cuteness-bar" class="h-full w-0 bg-gradient-to-r from-pink-500 to-rose-600 transition-all duration-200"></div>
                </div>
                
                <div id="cuteness-percent" style="font-size: 2.2rem; margin-top: 1rem;">0%</div>

                <div id="cute-result" class="hidden mt-12">
                    <div style="font-size: 5rem; margin-bottom: 1.5rem;">üíû</div>
                    <h1 style="font-size: 3rem;">you are 100% irreplaceable</h1>
                    <p style="font-size: 1.5rem; margin-top: 1.5rem;">you're my favorite everything, anshika</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                        <img src="https://media.tenor.com/0xV8o1qD0eEAAAAC/happy-birthday.gif" class="rounded-xl" alt="birthday">
                        <img src="https://media.tenor.com/9h5k8lL8v9kAAAAC/birthday-cake.gif" class="rounded-xl" alt="cake">
                        <img src="https://media.tenor.com/8p0j3g5Z0xUAAAAC/hearts-love.gif" class="rounded-xl" alt="hearts">
                    </div>
                </div>
            </div>
        </section>

        <div class="fixed bottom-4 left-0 right-0 text-center text-pink-400/70 text-sm z-50 pointer-events-none">
            made by shobit ‚ù§Ô∏è &nbsp;|&nbsp; 
            <a href="https://instagram.com/smss1708" target="_blank" class="pointer-events-auto hover:text-pink-300">
                <i class="fa-brands fa-instagram"></i> @smss1708
            </a>
        </div>
    </div>

    <script>
        const music = document.getElementById('bgmusic');

        function startSurprise() {
            music.volume = 0.5;
            music.play().catch(() => {});
            document.getElementById('intro').style.display = 'none';
            document.getElementById('main-container').classList.remove('hidden');
            initParticles();
            document.getElementById('cake').scrollIntoView({ behavior: 'smooth' });
            createHearts(10);
        }

        function nextSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
            createHearts(6);
        }

        // particles
        const canvas = document.getElementById('global-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = -50;
                this.size = Math.random() * 25 + 15;
                this.speed = Math.random() * 2.5 + 1;
                this.angle = Math.random() * Math.PI * 2;
                this.rot = Math.random() * 0.04 - 0.02;
                this.opacity = Math.random() * 0.5 + 0.4;
                this.isHeart = Math.random() > 0.6;
            }
            update() {
                this.y += this.speed;
                this.angle += this.rot;
                this.x += Math.sin(this.y * 0.02) * 2.5;
                if (this.y > canvas.height + 100) this.reset();
            }
            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                ctx.font = `${this.size}px sans-serif`;
                ctx.fillStyle = this.isHeart ? '#ff69b4' : '#111';
                ctx.shadowColor = '#ff1493';
                ctx.shadowBlur = 15;
                ctx.fillText(this.isHeart ? 'üíó' : 'üåπ', -this.size/2, this.size/2);
                ctx.restore();
            }
        }

        function initParticles() {
            resizeCanvas();
            particles = Array.from({length: 50}, () => new Particle());
            requestAnimationFrame(animate);
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', resizeCanvas);

        function createHearts(count) {
            for (let i = 0; i < count; i++) {
                const h = document.createElement('div');
                h.className = 'heart-particle';
                h.textContent = ['üíï','üíñ','‚ù§Ô∏è','üíó'][Math.floor(Math.random()*4)];
                h.style.left = Math.random() * 100 + 'vw';
                h.style.animationDuration = (Math.random()*6 + 6) + 's';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 14000);
            }
        }

        // cake logic
        let isDragging = false, hasCut = false;
        const knife = document.getElementById('knife');
        const cakeWrapper = document.getElementById('cake-wrapper');

        function initCake() {
            cakeWrapper.addEventListener('mousedown', () => { if(!hasCut) isDragging = true; });
            cakeWrapper.addEventListener('touchstart', e => { if(!hasCut){isDragging=true;e.preventDefault();}}, {passive:false});

            document.addEventListener('mousemove', e => {
                if(!isDragging || hasCut) return;
                const r = cakeWrapper.getBoundingClientRect();
                const x = e.clientX - r.left;
                const y = e.clientY - r.top;
                knife.style.left = x - 35 + 'px';
                knife.style.top = y - 70 + 'px';
                if(y > 120 && y < 200 && x > 80 && x < 280) cutCake();
            });

            document.addEventListener('touchmove', e => {
                if(!isDragging || hasCut) return;
                e.preventDefault();
                const r = cakeWrapper.getBoundingClientRect();
                const x = e.touches[0].clientX - r.left;
                const y = e.touches[0].clientY - r.top;
                knife.style.left = x - 35 + 'px';
                knife.style.top = y - 70 + 'px';
                if(y > 120 && y < 200 && x > 80 && x < 280) cutCake();
            }, {passive:false});

            document.addEventListener('mouseup touchend', () => isDragging = false);
        }

        function cutCake() {
            if(hasCut) return;
            hasCut = true;
            gsap.to(knife, {x:500, rotation:160, duration:0.9});
            document.getElementById('cake-message').classList.remove('hidden');
            confetti({particleCount:250, spread:90});
            createHearts(15);
        }

        // balloons
        const bCanvas = document.getElementById('balloon-canvas');
        const bctx = bCanvas.getContext('2d');
        let balloons = [];

        class Balloon {
            constructor() {this.reset();}
            reset() {
                this.x = Math.random() * bCanvas.width;
                this.y = bCanvas.height + 80;
                this.r = Math.random() * 25 + 35;
                this.color = ['#ff69b4','#ff1493','#c026d3','#ec4899'][Math.floor(Math.random()*4)];
                this.vy = -(Math.random()*2 + 1.2);
                this.popped = false;
            }
            update() {
                this.y += this.vy;
                this.x += Math.sin(this.y * 0.018) * 3;
                if(this.y < -80) this.reset();
            }
            draw() {
                if(this.popped) return;
                bctx.fillStyle = this.color;
                bctx.shadowColor = this.color;
                bctx.shadowBlur = 25;
                bctx.beginPath();
                bctx.arc(this.x, this.y, this.r, 0, Math.PI*2);
                bctx.fill();
                bctx.shadowBlur = 0;
            }
        }

        function resizeB() { bCanvas.width = window.innerWidth; bCanvas.height = window.innerHeight; }

        function initBalloons() {
            resizeB();
            balloons = Array.from({length:16}, ()=>new Balloon());
            requestAnimationFrame(animateBalloons);
        }

        function animateBalloons() {
            bctx.clearRect(0,0,bCanvas.width,bCanvas.height);
            balloons.forEach(b=>{b.update();b.draw();});
            requestAnimationFrame(animateBalloons);
        }

        bCanvas.addEventListener('click', e => {
            const r = bCanvas.getBoundingClientRect();
            const x = e.clientX - r.left;
            const y = e.clientY - r.top;
            for(let b of balloons){
                const dx = b.x - x, dy = b.y - y;
                if(dx*dx + dy*dy < b.r*b.r*4 && !b.popped){
                    b.popped = true;
                    confetti({particleCount:60, origin:{x:b.x/window.innerWidth, y:b.y/window.innerHeight}});
                    setTimeout(()=>{balloons.splice(balloons.indexOf(b),1); balloons.push(new Balloon());},400);
                    break;
                }
            }
        });

        // cute meter
        function runCuteness() {
            const bar = document.getElementById('cuteness-bar');
            const txt = document.getElementById('cuteness-percent');
            let p = 0;
            const iv = setInterval(() => {
                p += Math.random()*10 + 6;
                if(p > 100) p = 100;
                bar.style.width = p + '%';
                txt.textContent = Math.floor(p) + '%';
                if(p >= 100){
                    clearInterval(iv);
                    document.getElementById('cute-result').classList.remove('hidden');
                    confetti({particleCount:400, spread:100});
                    createHearts(20);
                }
            }, 70);
        }

        // date
        function setDate() {
            const d = new Date();
            d.setDate(d.getDate() + 1);
            document.getElementById('celebration-date').textContent = 
                d.toLocaleDateString('en-US', {weekday:'long', month:'long', day:'numeric', year:'numeric'});
        }

        window.onload = () => {
            initCake();
            initBalloons();
            setDate();

            const obs = new IntersectionObserver(([e]) => {
                if(e.isIntersecting){
                    runCuteness();
                    obs.disconnect();
                }
            }, {threshold:0.4});
            obs.observe(document.getElementById('cute'));

            setInterval(() => {if(Math.random()>0.55) createHearts(3);}, 3500);
        };
    </script>
</body>
</html>
